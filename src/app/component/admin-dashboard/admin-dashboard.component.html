<div class="dashboard-container">
    <div class="dashboard-header">
      <button class="scan-btn" (click)="scanQR()">
        <i class="fas fa-qrcode"></i> <span class="btn-text">Scan QR</span>
      </button>
    </div>
  
    <div class="dashboard-overview">
      <!-- Chart on the left -->
      <div class="overview-chart">
        <app-attendance-chart [attendanceData]="filteredData"></app-attendance-chart>
      </div>
    
       <!-- Summary blocks on the right -->
    
       <div class="box-container">
        <div class="summary-box present"> {{ initialCounts.Present }} <br>Present</div>
        <div class="summary-box late">{{ initialCounts.Late }}<br>Late</div>
        <div class="summary-box absent">{{ initialCounts.Absent }}<br>Absent</div>
        <div class="summary-box total">{{ initialCounts.Total }}<br>Total Employees </div>
      </div>
    
      
      
      <!-- Your existing table and filter UI below -->
      
    


<!-- FILTER PANEL -->
<div class="filter-panel">
  <div class="filter-group">
    <div class="filter-item">
      <label for="employeeId">Employee ID</label>
      <input id="employeeId" type="text" [(ngModel)]="employeeId" placeholder="e.g. 000001">
    </div>

    <div class="filter-item">
      <label for="department">Department</label>
      <select id="department" [(ngModel)]="department">
        <option value="">All</option>
        <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
      </select>
    </div>

    <div class="filter-item">
      <label for="subsidiary">Subsidiary</label>
      <select id="subsidiary" [(ngModel)]="subsidiary">
        <option value="">All</option>
        <option *ngFor="let sub of subsidiaries" [value]="sub">{{ sub }}</option>
      </select>
    </div>

    <div class="filter-item">
      <label>Start Date</label>
      <input type="date" [(ngModel)]="startDate">
    </div>

    <div class="filter-item">
      <label>End Date</label>
      <input type="date" [(ngModel)]="endDate">
    </div>

      <button (click)="filterData()" class="btn">Apply Filters</button>
      <div class="table-scroll">
        <table class="attendance-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>EMPLOYEE ID</th>
              <th>EMPLOYEE Name</th>
              <th>Punch In</th>
              <th>Punch Out</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let entry of paginatedData">
              <td data-label="Date">{{entry.date}}</td>
              <td data-label="ID">{{entry.employeeId}}</td>
              <td data-label="Name">{{entry.firstName}}, {{entry.lastName}}</td>
              <td data-label="In">{{entry.punchIn || '-'}}</td>
              <td data-label="Out">{{entry.punchOut || '-'}}</td>
              <td data-label="Status" [ngClass]="{
                  'present': entry.status === 'On Time',
                  'late': entry.status === 'Late',
                  'absent': entry.status === 'Over Time'
                }">
                {{entry.status}}
              </td>
            </tr>
          </tbody>
        </table>
        <div class="pagination">
          <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">Prev</button>
        
          <ng-container *ngFor="let item of paginationRange">
            <button 
              *ngIf="isNumber(item)"
              (click)="goToPage(item)"
              [class.active]="item === currentPage">
              {{ item }}
            </button>
        
            <span *ngIf="!isNumber(item)">...</span>
          </ng-container>
        
          <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages">Next</button>
        </div>
        
        
      </div>
  </div>
</div>


    
    
    <!-- Attendance Table -->
    <!-- <div class="table-container"> -->
      <!-- <div class="table-scroll">
        <table class="attendance-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>EMPLOYEE ID</th>
              <th>EMPLOYEE Name</th>
              <th>Punch In</th>
              <th>Punch Out</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let entry of filteredData">
              <td data-label="Date">{{entry.date}}</td>
              <td data-label="ID">{{entry.empId}}</td>
              <td data-label="Name">{{entry.name}}</td>
              <td data-label="In">{{entry.checkIn || '-'}}</td>
              <td data-label="Out">{{entry.checkOut || '-'}}</td>
              <td data-label="Status" [ngClass]="{
                  'present': entry.status === 'Present',
                  'late': entry.status === 'Late',
                  'absent': entry.status === 'Absent'
                }">
                {{entry.status}}
              </td>
            </tr>
          </tbody>
        </table>
      </div> -->
    <!-- </div> -->
  </div>